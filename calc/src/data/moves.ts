import * as I from '../data/interface';
import {toID, DeepPartial, assignWithout, extend} from '../util';

export interface MoveData {
  readonly name?: string;

  readonly type: I.TypeName;
  readonly category?: I.MoveCategory;
  // readonly flags?: I.MoveFlags;
  readonly secondaries?: boolean;
  readonly target?: I.MoveTarget;
  readonly recoil?: [number, number];
  readonly hasCrashDamage?: boolean;
  readonly mindBlownRecoil?: boolean;
  readonly struggleRecoil?: boolean;
  readonly willCrit?: boolean;
  readonly drain?: [number, number];
  readonly priority?: number;
  readonly self?: I.SelfOrSecondaryEffect | null;
  readonly ignoreDefensive?: boolean;
  readonly overrideOffensiveStat?: I.StatIDExceptHP;
  readonly overrideDefensiveStat?: I.StatIDExceptHP;
  readonly overrideOffensivePokemon?: 'target' | 'source';
  readonly overrideDefensivePokemon?: 'target' | 'source';
  readonly breaksProtect?: boolean;
  readonly isZ?: boolean;
  readonly isMax?: boolean;
  readonly multihit?: number | number[];

  readonly bp: number;
  readonly zp?: number;
  readonly maxPower?: number;

  // FIXME: migrate these to flags (above) instead
  readonly makesContact?: boolean;
  readonly isPunch?: boolean;
  readonly isBite?: boolean;
  readonly isBullet?: boolean;
  readonly isSound?: boolean;
  readonly isPulse?: boolean;
  readonly isSlicing?: boolean;
  readonly isWind?: boolean;
}

const RBY: {[name: string]: MoveData} = {
  '(No Move)': {bp: 0, category: 'Status', type: 'Normal'},
  Absorb: {bp: 20, type: 'Grass', drain: [1, 2]},
  Acid: {bp: 40, type: 'Poison'},
  Amnesia: {bp: 0, category: 'Status', type: 'Psychic'},
  'Aurora Beam': {bp: 65, type: 'Ice'},
  Barrage: {bp: 15, type: 'Normal', multihit: [2, 5]},
  Bide: {bp: 0, type: '???'},
  Bind: {bp: 15, type: 'Normal'},
  Bite: {bp: 60, type: 'Normal'},
  Blizzard: {bp: 120, type: 'Ice'},
  Bonemerang: {bp: 50, type: 'Ground', multihit: 2},
  Bubble: {bp: 20, type: 'Water'},
  'Bubble Beam': {bp: 65, type: 'Water'},
  Clamp: {bp: 35, type: 'Water'},
  'Comet Punch': {bp: 18, type: 'Normal', multihit: [2, 5]},
  Constrict: {bp: 10, type: 'Normal'},
  Conversion: {bp: 0, category: 'Status', type: 'Normal'},
  Counter: {bp: 1, type: 'Fighting'},
  Crabhammer: {bp: 90, type: 'Water'},
  'Defense Curl': {bp: 0, category: 'Status', type: 'Normal'},
  Dig: {bp: 100, type: 'Ground'},
  Disable: {bp: 0, category: 'Status', type: 'Normal'},
  'Dizzy Punch': {bp: 70, type: 'Normal'},
  'Double-Edge': {bp: 100, type: 'Normal', recoil: [25, 100]},
  'Double Kick': {bp: 30, type: 'Fighting', multihit: 2},
  'Double Slap': {bp: 15, type: 'Normal', multihit: [2, 5]},
  'Dragon Rage': {bp: 1, type: 'Dragon'},
  'Dream Eater': {bp: 100, type: 'Psychic', drain: [1, 2]},
  Earthquake: {bp: 100, type: 'Ground'},
  Explosion: {bp: 170, type: 'Normal'},
  'Fire Blast': {bp: 120, type: 'Fire'},
  'Fire Spin': {bp: 15, type: 'Fire'},
  Fissure: {bp: 0, type: 'Ground'},
  Fly: {bp: 70, type: 'Flying'},
  'Focus Energy': {bp: 0, category: 'Status', type: 'Normal'},
  'Fury Attack': {bp: 15, type: 'Normal', multihit: [2, 5]},
  'Fury Swipes': {bp: 18, type: 'Normal', multihit: [2, 5]},
  Glare: {bp: 0, category: 'Status', type: 'Normal'},
  Growth: {bp: 0, category: 'Status', type: 'Normal'},
  Guillotine: {bp: 0, type: 'Normal'},
  Gust: {bp: 40, type: 'Normal'},
  Haze: {bp: 0, category: 'Status', type: 'Ice'},
  'High Jump Kick': {bp: 85, type: 'Fighting', hasCrashDamage: true},
  'Horn Drill': {bp: 0, type: 'Normal'},
  'Hyper Beam': {bp: 150, type: 'Normal'},
  'Jump Kick': {bp: 70, type: 'Fighting', hasCrashDamage: true},
  'Karate Chop': {bp: 50, type: 'Normal'},
  'Leech Seed': {bp: 0, category: 'Status', type: 'Grass'},
  'Light Screen': {bp: 0, category: 'Status', type: 'Psychic'},
  Metronome: {bp: 0, category: 'Status', type: 'Normal'},
  Mimic: {bp: 0, category: 'Status', type: 'Normal'},
  Minimize: {bp: 0, category: 'Status', type: 'Normal'},
  'Mirror Move': {bp: 0, category: 'Status', type: 'Flying'},
  Mist: {bp: 0, category: 'Status', type: 'Ice'},
  'Night Shade': {bp: 1, type: 'Ghost'},
  'Petal Dance': {bp: 70, type: 'Grass'},
  'Pin Missile': {bp: 14, type: 'Bug', multihit: [2, 5]},
  'Poison Sting': {bp: 15, type: 'Poison'},
  Psychic: {bp: 90, type: 'Psychic'},
  Psywave: {bp: 1, type: 'Psychic'},
  Rage: {bp: 20, type: 'Normal'},
  'Razor Leaf': {bp: 55, type: 'Grass'},
  'Razor Wind': {bp: 80, type: 'Normal'},
  Recover: {bp: 0, category: 'Status', type: 'Normal'},
  Reflect: {bp: 0, category: 'Status', type: 'Psychic'},
  Rest: {bp: 0, category: 'Status', type: 'Psychic'},
  Roar: {bp: 0, category: 'Status', type: 'Normal'},
  'Rock Slide': {bp: 75, type: 'Rock'},
  'Rock Throw': {bp: 50, type: 'Rock'},
  'Sand Attack': {bp: 0, category: 'Status', type: 'Normal'},
  'Seismic Toss': {bp: 1, type: 'Fighting'},
  'Self-Destruct': {bp: 130, type: 'Normal'},
  'Skull Bash': {bp: 100, type: 'Normal'},
  Slash: {bp: 70, type: 'Normal'},
  Sludge: {bp: 65, type: 'Poison'},
  'Soft-Boiled': {bp: 0, category: 'Status', type: 'Normal'},
  'Solar Beam': {bp: 120, type: 'Grass'},
  'Sonic Boom': {bp: 1, type: 'Normal'},
  'Spike Cannon': {bp: 20, type: 'Normal', multihit: [2, 5]},
  Stomp: {bp: 65, type: 'Normal'},
  Struggle: {bp: 50, type: 'Normal', recoil: [1, 2]},
  'Stun Spore': {bp: 0, category: 'Status', type: 'Grass'},
  Submission: {bp: 80, type: 'Fighting', recoil: [1, 4]},
  Substitute: {bp: 0, category: 'Status', type: 'Normal'},
  'Super Fang': {bp: 1, type: 'Normal'},
  Swift: {bp: 60, type: 'Normal'},
  'Take Down': {bp: 90, type: 'Normal', recoil: [1, 4]},
  Thrash: {bp: 90, type: 'Normal'},
  Thunder: {bp: 120, type: 'Electric'},
  'Thunder Wave': {bp: 0, category: 'Status', type: 'Electric'},
  Transform: {bp: 0, category: 'Status', type: 'Normal'},
  'Tri Attack': {bp: 80, type: 'Normal'},
  Twineedle: {bp: 25, type: 'Bug', multihit: 2},
  Whirlwind: {bp: 0, category: 'Status', type: 'Normal'},
  'Wing Attack': {bp: 35, type: 'Flying'},
  Wrap: {bp: 15, type: 'Normal'},
  Growl: {bp: 0, category: 'Status', type: 'Normal'},
  Leer: {bp: 0, category: 'Status', type: 'Normal'},
  'Low Kick': {bp: 50, type: 'Fighting'},
  'Poison Gas': {bp: 0, category: 'Status', type: 'Poison'},
  'Poison Powder': {bp: 0, category: 'Status', type: 'Poison'},
  'Sky Attack': {bp: 140, type: 'Flying'},
  'String Shot': {bp: 0, category: 'Status', type: 'Bug'},
  Surf: {bp: 95, type: 'Water'},
  'Tail Whip': {bp: 0, category: 'Status', type: 'Normal'},
  Toxic: {bp: 0, category: 'Status', type: 'Poison'},
  Flash: {bp: 0, category: 'Status', type: 'Normal'},
  Hypnosis: {bp: 0, category: 'Status', type: 'Psychic'},
  'Leech Life': {bp: 20, type: 'Bug', drain: [1, 2]},
  'Mega Drain': {bp: 40, type: 'Grass', drain: [1, 2]},
  'Vine Whip': {bp: 35, type: 'Grass'},
  Waterfall: {bp: 80, type: 'Water'},
  Tackle: {bp: 35, type: 'Normal'},
  'Acid Armor': {bp: 0, category: 'Status', type: 'Poison'},
  Barrier: {bp: 0, category: 'Status', type: 'Psychic'},
  'Body Slam': {bp: 85, type: 'Normal'},
  Flamethrower: {bp: 95, type: 'Fire'},
  'Hydro Pump': {bp: 120, type: 'Water'},
  'Ice Beam': {bp: 95, type: 'Ice'},
  Lick: {bp: 20, type: 'Ghost'},
  Screech: {bp: 0, category: 'Status', type: 'Normal'},
  Sing: {bp: 0, category: 'Status', type: 'Normal'},
  'Sleep Powder': {bp: 0, category: 'Status', type: 'Grass'},
  Smog: {bp: 20, type: 'Poison'},
  Spore: {bp: 0, category: 'Status', type: 'Grass'},
  Supersonic: {bp: 0, category: 'Status', type: 'Normal'},
  'Swords Dance': {bp: 0, category: 'Status', type: 'Normal'},
  Thunderbolt: {bp: 95, type: 'Electric'},
  'Bone Club': {bp: 65, type: 'Ground'},
  'Egg Bomb': {bp: 100, type: 'Normal'},
  'Hyper Fang': {bp: 80, type: 'Normal'},
  Kinesis: {bp: 0, category: 'Status', type: 'Psychic'},
  'Lovely Kiss': {bp: 0, category: 'Status', type: 'Normal'},
  Meditate: {bp: 0, category: 'Status', type: 'Psychic'},
  'Rolling Kick': {bp: 60, type: 'Fighting'},
  Sharpen: {bp: 0, category: 'Status', type: 'Normal'},
  Teleport: {bp: 0, category: 'Status', type: 'Psychic'},
  Agility: {bp: 0, category: 'Status', type: 'Psychic'},
  'Confuse Ray': {bp: 0, category: 'Status', type: 'Ghost'},
  Confusion: {bp: 50, type: 'Psychic'},
  Cut: {bp: 50, type: 'Normal'},
  'Double Team': {bp: 0, category: 'Status', type: 'Normal'},
  'Drill Peck': {bp: 80, type: 'Flying'},
  Ember: {bp: 40, type: 'Fire'},
  'Fire Punch': {bp: 75, type: 'Fire'},
  Harden: {bp: 0, category: 'Status', type: 'Normal'},
  Headbutt: {bp: 70, type: 'Normal'},
  'Horn Attack': {bp: 65, type: 'Normal'},
  'Ice Punch': {bp: 75, type: 'Ice'},
  'Mega Kick': {bp: 120, type: 'Normal'},
  'Mega Punch': {bp: 80, type: 'Normal'},
  'Paleo Wave': {bp: 85, type: 'Rock'},
  'Pay Day': {bp: 40, type: 'Normal'},
  Peck: {bp: 35, type: 'Flying'},
  Pound: {bp: 40, type: 'Normal'},
  Psybeam: {bp: 65, type: 'Psychic'},
  'Quick Attack': {bp: 40, type: 'Normal', priority: 1},
  Scratch: {bp: 40, type: 'Normal'},
  'Shadow Strike': {bp: 80, type: 'Ghost'},
  Slam: {bp: 80, type: 'Normal'},
  Smokescreen: {bp: 0, category: 'Status', type: 'Normal'},
  Splash: {bp: 0, category: 'Status', type: 'Normal'},
  Strength: {bp: 80, type: 'Normal'},
  'Thunder Punch': {bp: 75, type: 'Electric'},
  'Thunder Shock': {bp: 40, type: 'Electric'},
  'Vise Grip': {bp: 55, type: 'Normal'},
  'Water Gun': {bp: 40, type: 'Water'},
  Withdraw: {bp: 0, category: 'Status', type: 'Water'},
};

const GSC_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  Bide: {type: 'Normal'},
  Counter: {bp: 0},
  Dig: {bp: 60},
  'Double-Edge': {bp: 120},
  Explosion: {bp: 250},
  Gust: {type: 'Flying'},
  'Karate Chop': {type: 'Fighting'},
  Psywave: {bp: 0},
  'Self-Destruct': {bp: 200},
  Struggle: {recoil: [1, 4]},
  'Dragon Rage': {bp: 0},
  Bite: {type: 'Dark'},
  'Night Shade': {bp: 0},
  'Sand Attack': {type: 'Ground'},
  'Seismic Toss': {bp: 0},
  'Sonic Boom': {bp: 0},
  'Super Fang': {bp: 0},
  'Wing Attack': {bp: 60},
  Aeroblast: {bp: 100, type: 'Flying'},
  Attract: {bp: 0, category: 'Status', type: 'Normal'},
  'Beat Up': {bp: 10, type: 'Dark'},
  'Belly Drum': {bp: 0, category: 'Status', type: 'Normal'},
  'Conversion 2': {bp: 0, category: 'Status', type: 'Normal'},
  'Cross Chop': {bp: 100, type: 'Fighting'},
  Curse: {bp: 0, category: 'Status', type: '???'},
  'Destiny Bond': {bp: 0, category: 'Status', type: 'Ghost'},
  Detect: {bp: 0, category: 'Status', type: 'Fighting', priority: 2},
  Encore: {bp: 0, category: 'Status', type: 'Normal'},
  Endure: {bp: 0, category: 'Status', type: 'Normal', priority: 2},
  Flail: {bp: 0, type: 'Normal'},
  Foresight: {bp: 0, category: 'Status', type: 'Normal'},
  'Future Sight': {bp: 80, type: 'Psychic'},
  'Heal Bell': {bp: 0, category: 'Status', type: 'Normal'},
  'Icy Wind': {bp: 55, type: 'Ice'},
  'Lock-On': {bp: 0, category: 'Status', type: 'Normal'},
  'Mind Reader': {bp: 0, category: 'Status', type: 'Normal'},
  'Mirror Coat': {bp: 0, type: 'Psychic'},
  Moonlight: {bp: 0, category: 'Status', type: 'Normal'},
  'Morning Sun': {bp: 0, category: 'Status', type: 'Normal'},
  Nightmare: {bp: 0, category: 'Status', type: 'Ghost'},
  Outrage: {bp: 90, type: 'Dragon'},
  'Powder Snow': {bp: 40, type: 'Ice'},
  Present: {bp: 0, type: 'Normal'},
  Protect: {bp: 0, category: 'Status', type: 'Normal', priority: 2},
  'Psych Up': {bp: 0, category: 'Status', type: 'Normal'},
  Pursuit: {bp: 40, type: 'Dark'},
  'Rain Dance': {bp: 0, category: 'Status', type: 'Water'},
  Reversal: {bp: 0, type: 'Fighting'},
  Safeguard: {bp: 0, category: 'Status', type: 'Normal'},
  Sandstorm: {bp: 0, category: 'Status', type: 'Rock'},
  Sketch: {bp: 0, category: 'Status', type: 'Normal'},
  'Sleep Talk': {bp: 0, category: 'Status', type: 'Normal'},
  Spikes: {bp: 0, category: 'Status', type: 'Ground'},
  Spite: {bp: 0, category: 'Status', type: 'Ghost'},
  'Sunny Day': {bp: 0, category: 'Status', type: 'Fire'},
  Swagger: {bp: 0, category: 'Status', type: 'Normal'},
  'Sweet Scent': {bp: 0, category: 'Status', type: 'Normal'},
  Synthesis: {bp: 0, category: 'Status', type: 'Grass'},
  Thief: {bp: 40, type: 'Dark'},
  'Triple Kick': {bp: 10, type: 'Fighting', multihit: [1, 3]},
  Twister: {bp: 40, type: 'Dragon'},
  'Ancient Power': {bp: 60, type: 'Rock'},
  'Bone Rush': {bp: 25, type: 'Ground', multihit: [2, 5]},
  Crunch: {bp: 80, type: 'Dark'},
  'Feint Attack': {bp: 60, type: 'Dark'},
  'Giga Drain': {bp: 60, type: 'Grass', drain: [1, 2]},
  'Hidden Power': {bp: 0, type: 'Normal'},
  'Mean Look': {bp: 0, category: 'Status', type: 'Normal'},
  'Rapid Spin': {bp: 20, type: 'Normal'},
  'Rock Smash': {bp: 20, type: 'Fighting'},
  'Spider Web': {bp: 0, category: 'Status', type: 'Bug'},
  Whirlpool: {bp: 15, type: 'Water'},
  'Zap Cannon': {bp: 100, type: 'Electric'},
  'Cotton Spore': {bp: 0, category: 'Status', type: 'Grass'},
  'Extreme Speed': {bp: 80, type: 'Normal', priority: 1},
  'Fury Cutter': {bp: 10, type: 'Bug'},
  Magnitude: {bp: 0, type: 'Ground'},
  'Milk Drink': {bp: 0, category: 'Status', type: 'Normal'},
  'Scary Face': {bp: 0, category: 'Status', type: 'Normal'},
  Charm: {bp: 0, category: 'Status', type: 'Normal'},
  'Hidden Power Bug': {bp: 70, type: 'Bug'},
  'Hidden Power Dark': {bp: 70, type: 'Dark'},
  'Hidden Power Dragon': {bp: 70, type: 'Dragon'},
  'Hidden Power Electric': {bp: 70, type: 'Electric'},
  'Hidden Power Fighting': {bp: 70, type: 'Fighting'},
  'Hidden Power Fire': {bp: 70, type: 'Fire'},
  'Hidden Power Flying': {bp: 70, type: 'Flying'},
  'Hidden Power Ghost': {bp: 70, type: 'Ghost'},
  'Hidden Power Grass': {bp: 70, type: 'Grass'},
  'Hidden Power Ground': {bp: 70, type: 'Ground'},
  'Hidden Power Ice': {bp: 70, type: 'Ice'},
  'Hidden Power Poison': {bp: 70, type: 'Poison'},
  'Hidden Power Psychic': {bp: 70, type: 'Psychic'},
  'Hidden Power Rock': {bp: 70, type: 'Rock'},
  'Hidden Power Steel': {bp: 70, type: 'Steel'},
  'Hidden Power Water': {bp: 70, type: 'Water'},
  'Perish Song': {bp: 0, category: 'Status', type: 'Normal'},
  Snore: {bp: 40, type: 'Normal'},
  'Sweet Kiss': {bp: 0, category: 'Status', type: 'Normal'},
  Rollout: {bp: 30, type: 'Rock'},
  Frustration: {bp: 0, type: 'Normal'},
  Return: {bp: 0, type: 'Normal'},
  'Sacred Fire': {bp: 100, type: 'Fire'},
  'Baton Pass': {bp: 0, category: 'Status', type: 'Normal'},
  'Dragon Breath': {bp: 60, type: 'Dragon'},
  'Dynamic Punch': {bp: 100, type: 'Fighting'},
  'False Swipe': {bp: 40, type: 'Normal'},
  'Flame Wheel': {bp: 60, type: 'Fire'},
  'Iron Tail': {bp: 100, type: 'Steel'},
  'Mach Punch': {bp: 40, type: 'Fighting', priority: 1},
  Megahorn: {bp: 120, type: 'Bug'},
  'Metal Claw': {bp: 50, type: 'Steel'},
  'Mud-Slap': {bp: 20, type: 'Ground'},
  Octazooka: {bp: 65, type: 'Water'},
  'Pain Split': {bp: 0, category: 'Status', type: 'Normal'},
  'Shadow Ball': {bp: 80, type: 'Ghost'},
  'Sludge Bomb': {bp: 90, type: 'Poison'},
  Spark: {bp: 65, type: 'Electric'},
  'Steel Wing': {bp: 70, type: 'Steel'},
  'Vital Throw': {bp: 70, type: 'Fighting'},
};

const GSC: {[name: string]: MoveData} = extend(true, {}, RBY, GSC_PATCH);

const ADV_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  Acid: {target: 'allAdjacentFoes'},
  'Ancient Power': {makesContact: true},
  Bide: {makesContact: true},
  Bind: {makesContact: true},
  Blizzard: {target: 'allAdjacentFoes'},
  Clamp: {makesContact: true},
  'Comet Punch': {makesContact: true},
  Counter: {makesContact: true},
  Crunch: {makesContact: true},
  Detect: {priority: 3},
  Endure: {priority: 4},
  Protect: {priority: 3},
  Dig: {makesContact: true},
  'Double Kick': {makesContact: true},
  'Double Slap': {makesContact: true},
  Explosion: {target: 'allAdjacent'},
  Flail: {makesContact: true},
  Fly: {makesContact: true},
  'Fury Attack': {makesContact: true},
  'Fury Swipes': {makesContact: true},
  'High Jump Kick': {makesContact: true},
  'Jump Kick': {makesContact: true},
  'Leech Life': {makesContact: true},
  Outrage: {makesContact: true},
  'Petal Dance': {makesContact: true},
  Pursuit: {makesContact: true},
  Rage: {makesContact: true},
  'Rapid Spin': {makesContact: true},
  'Razor Wind': {target: 'allAdjacentFoes'},
  Reversal: {makesContact: true},
  'Rock Smash': {makesContact: true},
  'Self-Destruct': {target: 'allAdjacent'},
  'Skull Bash': {makesContact: true},
  Stomp: {makesContact: true},
  Struggle: {makesContact: true},
  Surf: {target: 'allAdjacentFoes'},
  Thief: {makesContact: true},
  Thrash: {makesContact: true},
  'Triple Kick': {makesContact: true, multihit: 3},
  'Vine Whip': {makesContact: true},
  Waterfall: {makesContact: true},
  Wrap: {makesContact: true},
  Crabhammer: {makesContact: true},
  'Double-Edge': {recoil: [1, 3], makesContact: true},
  Earthquake: {target: 'allAdjacent'},
  'Extreme Speed': {makesContact: true},
  'Fury Cutter': {makesContact: true},
  'Heal Bell': {isSound: true},
  Magnitude: {target: 'allAdjacent'},
  Roar: {isSound: true},
  Submission: {makesContact: true},
  Tackle: {makesContact: true},
  'Take Down': {makesContact: true},
  Twister: {target: 'allAdjacentFoes'},
  'Body Slam': {makesContact: true},
  Bubble: {target: 'allAdjacentFoes'},
  Growl: {isSound: true, target: 'allAdjacentFoes'},
  Lick: {makesContact: true},
  'Perish Song': {isSound: true},
  Screech: {isSound: true},
  Sing: {isSound: true},
  Snore: {isSound: true},
  'String Shot': {target: 'allAdjacentFoes'},
  Supersonic: {isSound: true},
  'Sweet Scent': {target: 'allAdjacentFoes'},
  Rollout: {makesContact: true},
  Constrict: {makesContact: true},
  'Dizzy Punch': {makesContact: true},
  Frustration: {makesContact: true},
  'Hyper Fang': {makesContact: true},
  'Karate Chop': {makesContact: true},
  'Low Kick': {bp: 0, makesContact: true},
  Return: {makesContact: true},
  'Rolling Kick': {makesContact: true},
  Bite: {makesContact: true},
  'Cross Chop': {makesContact: true},
  Cut: {makesContact: true},
  'Drill Peck': {makesContact: true},
  'Dynamic Punch': {makesContact: true},
  'False Swipe': {makesContact: true},
  'Fire Punch': {makesContact: true},
  'Flame Wheel': {makesContact: true},
  Guillotine: {makesContact: true},
  Headbutt: {makesContact: true},
  'Horn Attack': {makesContact: true},
  'Horn Drill': {makesContact: true},
  'Ice Punch': {makesContact: true},
  'Icy Wind': {target: 'allAdjacentFoes'},
  'Iron Tail': {makesContact: true},
  Leer: {target: 'allAdjacentFoes'},
  'Mach Punch': {makesContact: true},
  Megahorn: {makesContact: true},
  'Mega Kick': {makesContact: true},
  'Mega Punch': {makesContact: true},
  'Metal Claw': {makesContact: true},
  Peck: {makesContact: true},
  Pound: {makesContact: true},
  'Powder Snow': {target: 'allAdjacentFoes'},
  'Quick Attack': {makesContact: true},
  'Razor Leaf': {target: 'allAdjacentFoes'},
  'Rock Slide': {target: 'allAdjacentFoes'},
  Scratch: {makesContact: true},
  'Seismic Toss': {makesContact: true},
  'Shadow Strike': {makesContact: true},
  Slam: {makesContact: true},
  Slash: {makesContact: true},
  Spark: {makesContact: true},
  'Steel Wing': {makesContact: true},
  Strength: {makesContact: true},
  'Super Fang': {makesContact: true},
  Swift: {target: 'allAdjacentFoes'},
  'Tail Whip': {target: 'allAdjacentFoes'},
  'Thunder Punch': {makesContact: true},
  'Vise Grip': {makesContact: true},
  'Vital Throw': {makesContact: true},
  'Wing Attack': {makesContact: true},
  'Arm Thrust': {
    bp: 15,
    type: 'Fighting',
    multihit: [2, 5],
    makesContact: true,
  },
  Assist: {bp: 0, category: 'Status', type: 'Normal'},
  Astonish: {bp: 30, type: 'Ghost', makesContact: true},
  Block: {bp: 0, category: 'Status', type: 'Normal'},
  Bounce: {bp: 85, type: 'Flying', makesContact: true},
  'Bullet Seed': {bp: 10, type: 'Grass', multihit: [2, 5]},
  Camouflage: {bp: 0, category: 'Status', type: 'Normal'},
  Charge: {bp: 0, category: 'Status', type: 'Electric'},
  Covet: {bp: 40, type: 'Normal'},
  Dive: {bp: 60, type: 'Water', makesContact: true},
  'Doom Desire': {bp: 120, type: 'Steel'},
  Extrasensory: {bp: 80, type: 'Psychic'},
  'Fake Out': {bp: 40, type: 'Normal', priority: 1},
  'Follow Me': {bp: 0, category: 'Status', type: 'Normal', priority: 3},
  Hail: {bp: 0, category: 'Status', type: 'Ice'},
  'Icicle Spear': {bp: 10, type: 'Ice', multihit: [2, 5]},
  Ingrain: {bp: 0, category: 'Status', type: 'Grass'},
  'Knock Off': {bp: 20, type: 'Dark', makesContact: true},
  'Leaf Blade': {bp: 70, type: 'Grass', makesContact: true},
  'Magic Coat': {bp: 0, category: 'Status', type: 'Psychic', priority: 4},
  Memento: {bp: 0, category: 'Status', type: 'Dark'},
  'Nature Power': {bp: 0, category: 'Status', type: 'Normal'},
  'Needle Arm': {bp: 60, type: 'Grass', makesContact: true},
  'Odor Sleuth': {bp: 0, category: 'Status', type: 'Normal'},
  Overheat: {bp: 140, type: 'Fire', self: {boosts: {spa: -2}}, makesContact: true},
  Revenge: {bp: 60, type: 'Fighting', makesContact: true},
  'Rock Blast': {bp: 25, type: 'Rock', multihit: [2, 5]},
  'Role Play': {bp: 0, category: 'Status', type: 'Psychic'},
  'Sand Tomb': {bp: 15, type: 'Ground'},
  'Skill Swap': {bp: 0, category: 'Status', type: 'Psychic'},
  'Smelling Salts': {bp: 60, type: 'Normal', makesContact: true},
  'Spit Up': {bp: 0, type: 'Normal'},
  Stockpile: {bp: 0, category: 'Status', type: 'Normal'},
  Swallow: {bp: 0, category: 'Status', type: 'Normal'},
  Taunt: {bp: 0, category: 'Status', type: 'Dark'},
  'Teeter Dance': {bp: 0, category: 'Status', type: 'Normal', target: 'allAdjacent'},
  Tickle: {bp: 0, category: 'Status', type: 'Normal'},
  Trick: {bp: 0, category: 'Status', type: 'Psychic'},
  Uproar: {bp: 50, type: 'Normal', isSound: true},
  'Volt Tackle': {bp: 120, type: 'Electric', recoil: [1, 3], makesContact: true},
  'Weather Ball': {bp: 50, type: 'Normal'},
  Aromatherapy: {bp: 0, category: 'Status', type: 'Grass'},
  'Brick Break': {bp: 75, type: 'Fighting', makesContact: true},
  Endeavor: {bp: 0, type: 'Normal', makesContact: true},
  'Focus Punch': {bp: 150, type: 'Fighting', makesContact: true},
  Imprison: {bp: 0, category: 'Status', type: 'Psychic'},
  'Mud Sport': {bp: 0, category: 'Status', type: 'Ground'},
  Recycle: {bp: 0, category: 'Status', type: 'Normal'},
  'Secret Power': {bp: 70, type: 'Normal'},
  'Sky Uppercut': {bp: 85, type: 'Fighting', makesContact: true},
  'Slack Off': {bp: 0, category: 'Status', type: 'Normal'},
  Snatch: {bp: 0, category: 'Status', type: 'Dark', priority: 4},
  'Tail Glow': {bp: 0, category: 'Status', type: 'Bug'},
  Torment: {bp: 0, category: 'Status', type: 'Dark'},
  'Water Sport': {bp: 0, category: 'Status', type: 'Water'},
  Wish: {bp: 0, category: 'Status', type: 'Normal'},
  'Air Cutter': {bp: 55, type: 'Flying', target: 'allAdjacentFoes'},
  Facade: {bp: 70, type: 'Normal', makesContact: true},
  'Grass Whistle': {bp: 0, category: 'Status', type: 'Grass', isSound: true},
  'Heat Wave': {bp: 100, type: 'Fire', target: 'allAdjacentFoes'},
  'Hyper Voice': {bp: 90, type: 'Normal', isSound: true, target: 'allAdjacentFoes'},
  'Metal Sound': {bp: 0, category: 'Status', type: 'Steel', isSound: true},
  'Meteor Mash': {bp: 100, type: 'Steel', makesContact: true},
  'Muddy Water': {bp: 95, type: 'Water', target: 'allAdjacentFoes'},
  'Poison Fang': {bp: 50, type: 'Poison', makesContact: true},
  'Rock Tomb': {bp: 50, type: 'Rock'},
  'Will-O-Wisp': {bp: 0, category: 'Status', type: 'Fire'},
  'Ice Ball': {bp: 30, type: 'Ice', makesContact: true},
  'Sheer Cold': {bp: 0, type: 'Ice'},
  Howl: {bp: 0, category: 'Status', type: 'Normal'},
  'Luster Purge': {bp: 70, type: 'Psychic'},
  'Mist Ball': {bp: 70, type: 'Psychic'},
  'Psycho Boost': {bp: 140, type: 'Psychic', self: {boosts: {spa: -2}}},
  Refresh: {bp: 0, category: 'Status', type: 'Normal'},
  'Signal Beam': {bp: 75, type: 'Bug'},
  'Silver Wind': {bp: 60, type: 'Bug'},
  'Aerial Ace': {bp: 60, type: 'Flying', makesContact: true},
  'Blast Burn': {bp: 150, type: 'Fire'},
  'Blaze Kick': {bp: 85, type: 'Fire', makesContact: true},
  'Bulk Up': {bp: 0, category: 'Status', type: 'Fighting'},
  'Calm Mind': {bp: 0, category: 'Status', type: 'Psychic'},
  'Cosmic Power': {bp: 0, category: 'Status', type: 'Psychic'},
  'Crush Claw': {bp: 75, type: 'Normal', makesContact: true},
  'Dragon Claw': {bp: 80, type: 'Dragon', makesContact: true},
  'Dragon Dance': {bp: 0, category: 'Status', type: 'Dragon'},
  Eruption: {bp: 150, type: 'Fire', target: 'allAdjacentFoes'},
  'Fake Tears': {bp: 0, category: 'Status', type: 'Dark'},
  'Feather Dance': {bp: 0, category: 'Status', type: 'Flying'},
  Flatter: {bp: 0, category: 'Status', type: 'Dark'},
  'Frenzy Plant': {bp: 150, type: 'Grass'},
  Grudge: {bp: 0, category: 'Status', type: 'Ghost'},
  'Helping Hand': {bp: 0, category: 'Status', type: 'Normal', priority: 5},
  'Hydro Cannon': {bp: 150, type: 'Water'},
  'Iron Defense': {bp: 0, category: 'Status', type: 'Steel'},
  'Magical Leaf': {bp: 60, type: 'Grass'},
  'Mud Shot': {bp: 55, type: 'Ground'},
  'Poison Tail': {bp: 50, type: 'Poison', makesContact: true},
  'Shadow Punch': {bp: 60, type: 'Ghost', makesContact: true},
  'Shock Wave': {bp: 60, type: 'Electric'},
  Superpower: {bp: 120, type: 'Fighting', self: {boosts: {atk: -1, def: -1}}, makesContact: true},
  'Water Pulse': {bp: 60, type: 'Water'},
  'Water Spout': {bp: 150, type: 'Water', target: 'allAdjacentFoes'},
  Yawn: {bp: 0, category: 'Status', type: 'Normal'},
};

const ADV: {[name: string]: MoveData} = extend(true, {}, GSC, ADV_PATCH);

const DPP_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  Absorb: {category: 'Special'},
  'Arm Thrust': {category: 'Physical'},
  Barrage: {category: 'Physical'},
  'Beat Up': {category: 'Physical'},
  Bide: {priority: 1, category: 'Physical'},
  Bind: {category: 'Physical'},
  'Bone Rush': {category: 'Physical'},
  Bonemerang: {category: 'Physical'},
  Bounce: {category: 'Physical'},
  'Brick Break': {category: 'Physical'},
  'Bullet Seed': {category: 'Physical'},
  Clamp: {category: 'Physical'},
  'Comet Punch': {isPunch: true, category: 'Physical'},
  Counter: {category: 'Physical'},
  Covet: {makesContact: true, category: 'Physical'},
  Crabhammer: {category: 'Physical'},
  Dig: {bp: 80, category: 'Physical'},
  Dive: {bp: 80, category: 'Physical'},
  'Doom Desire': {category: 'Special'},
  'Double-Edge': {category: 'Physical'},
  'Double Kick': {category: 'Physical'},
  'Double Slap': {category: 'Physical'},
  'Dream Eater': {category: 'Special'},
  Earthquake: {category: 'Physical'},
  Endeavor: {category: 'Physical'},
  Explosion: {category: 'Physical'},
  'Extreme Speed': {category: 'Physical'},
  'Fake Out': {makesContact: true, category: 'Physical'},
  'Fire Spin': {category: 'Special'},
  Flail: {category: 'Physical'},
  Fly: {bp: 90, category: 'Physical'},
  'Focus Punch': {isPunch: true, category: 'Physical'},
  'Fury Attack': {category: 'Physical'},
  'Fury Cutter': {category: 'Physical'},
  'Fury Swipes': {category: 'Physical'},
  'Future Sight': {category: 'Special'},
  'Giga Drain': {category: 'Special'},
  Gust: {category: 'Special'},
  'High Jump Kick': {bp: 100, category: 'Physical'},
  'Icicle Spear': {category: 'Physical'},
  'Jump Kick': {bp: 85, category: 'Physical'},
  'Knock Off': {category: 'Physical'},
  'Leech Life': {category: 'Physical'},
  Magnitude: {category: 'Physical'},
  'Mega Drain': {category: 'Special'},
  'Mirror Coat': {category: 'Special'},
  Outrage: {category: 'Physical'},
  // Outrage: {bp: 120, category: 'Physical'},
  'Petal Dance': {bp: 90, category: 'Special'},
  'Pin Missile': {category: 'Physical'},
  Psywave: {category: 'Special'},
  Pursuit: {category: 'Physical'},
  'Rapid Spin': {category: 'Physical'},
  'Razor Wind': {category: 'Special'},
  Revenge: {category: 'Physical'},
  Reversal: {category: 'Physical'},
  'Rock Blast': {category: 'Physical'},
  'Sand Tomb': {category: 'Physical'},
  'Secret Power': {category: 'Physical'},
  'Self-Destruct': {category: 'Physical'},
  'Sky Uppercut': {isPunch: true, category: 'Physical'},
  'Smelling Salts': {category: 'Physical'},
  'Solar Beam': {category: 'Special'},
  'Spike Cannon': {category: 'Physical'},
  'Spit Up': {category: 'Special'},
  Stomp: {category: 'Physical'},
  Struggle: {category: 'Physical', struggleRecoil: true},
  Submission: {category: 'Physical'},
  Surf: {target: 'allAdjacent', category: 'Special'},
  Tackle: {category: 'Physical'},
  'Take Down': {category: 'Physical'},
  Thief: {category: 'Physical'},
  Thrash: {category: 'Physical'},
  Thunder: {category: 'Special'},
  'Triple Kick': {category: 'Physical'},
  Twineedle: {category: 'Physical'},
  Twister: {category: 'Special'},
  Uproar: {category: 'Special'},
  'Volt Tackle': {category: 'Physical'},
  Whirlpool: {category: 'Special'},
  Wrap: {category: 'Physical'},
  'Air Cutter': {category: 'Special'},
  Blizzard: {category: 'Special'},
  'Body Slam': {category: 'Physical'},
  Bubble: {category: 'Special'},
  Extrasensory: {category: 'Special'},
  Facade: {category: 'Physical'},
  'Fire Blast': {category: 'Special'},
  Flamethrower: {category: 'Special'},
  'Heat Wave': {category: 'Special'},
  'Hidden Power': {category: 'Special'},
  'Hidden Power Bug': {category: 'Special'},
  'Hidden Power Dark': {category: 'Special'},
  'Hidden Power Dragon': {category: 'Special'},
  'Hidden Power Electric': {category: 'Special'},
  'Hidden Power Fighting': {category: 'Special'},
  'Hidden Power Fire': {category: 'Special'},
  'Hidden Power Flying': {category: 'Special'},
  'Hidden Power Ghost': {category: 'Special'},
  'Hidden Power Grass': {category: 'Special'},
  'Hidden Power Ground': {category: 'Special'},
  'Hidden Power Ice': {category: 'Special'},
  'Hidden Power Poison': {category: 'Special'},
  'Hidden Power Psychic': {category: 'Special'},
  'Hidden Power Rock': {category: 'Special'},
  'Hidden Power Steel': {category: 'Special'},
  'Hidden Power Water': {category: 'Special'},
  'Hydro Pump': {category: 'Special'},
  'Hyper Voice': {category: 'Special'},
  'Ice Beam': {category: 'Special'},
  Lick: {category: 'Physical'},
  'Meteor Mash': {isPunch: true, category: 'Physical'},
  'Muddy Water': {category: 'Special'},
  Overheat: {category: 'Special', makesContact: false},
  'Poison Fang': {isBite: true, category: 'Physical'},
  'Rock Tomb': {category: 'Physical'},
  'Skull Bash': {category: 'Physical'},
  Smog: {category: 'Special'},
  Snore: {category: 'Special'},
  Thunderbolt: {category: 'Special'},
  'Vine Whip': {category: 'Physical'},
  'Weather Ball': {category: 'Special'},
  'Ice Ball': {category: 'Physical'},
  Rollout: {category: 'Physical'},
  'Sheer Cold': {category: 'Special'},
  Aeroblast: {category: 'Special'},
  'Bone Club': {category: 'Physical'},
  Constrict: {category: 'Physical'},
  'Dizzy Punch': {isPunch: true, category: 'Physical'},
  'Dragon Rage': {category: 'Special'},
  'Egg Bomb': {category: 'Physical'},
  'Feint Attack': {makesContact: true, category: 'Physical'},
  Frustration: {category: 'Physical'},
  'Hyper Fang': {isBite: true, category: 'Physical'},
  'Karate Chop': {category: 'Physical'},
  'Low Kick': {category: 'Physical'},
  'Luster Purge': {category: 'Special'},
  'Mist Ball': {category: 'Special'},
  'Needle Arm': {category: 'Physical'},
  'Psycho Boost': {category: 'Special'},
  Rage: {category: 'Physical'},
  Return: {category: 'Physical'},
  'Rolling Kick': {category: 'Physical'},
  'Sacred Fire': {category: 'Physical'},
  'Signal Beam': {category: 'Special'},
  'Silver Wind': {category: 'Special'},
  'Sonic Boom': {category: 'Special'},
  Acid: {category: 'Special'},
  'Aerial Ace': {category: 'Physical'},
  'Ancient Power': {category: 'Special', makesContact: false},
  Astonish: {category: 'Physical'},
  'Aurora Beam': {category: 'Special'},
  Bite: {isBite: true, category: 'Physical'},
  'Blast Burn': {category: 'Special'},
  'Blaze Kick': {category: 'Physical'},
  'Bubble Beam': {category: 'Special'},
  Confusion: {category: 'Special'},
  'Cross Chop': {category: 'Physical'},
  Crunch: {isBite: true, category: 'Physical'},
  'Crush Claw': {category: 'Physical'},
  Cut: {category: 'Physical'},
  'Dragon Breath': {category: 'Special'},
  'Dragon Claw': {category: 'Physical'},
  'Drill Peck': {category: 'Physical'},
  'Dynamic Punch': {isPunch: true, category: 'Physical'},
  Ember: {category: 'Special'},
  Eruption: {category: 'Special'},
  'False Swipe': {category: 'Physical'},
  'Fire Punch': {isPunch: true, category: 'Physical'},
  Fissure: {category: 'Physical'},
  'Flame Wheel': {category: 'Physical'},
  'Frenzy Plant': {category: 'Special'},
  Guillotine: {category: 'Physical'},
  Headbutt: {category: 'Physical'},
  'Horn Attack': {category: 'Physical'},
  'Horn Drill': {category: 'Physical'},
  'Hydro Cannon': {category: 'Special'},
  'Hyper Beam': {category: 'Special'},
  'Ice Punch': {isPunch: true, category: 'Physical'},
  'Icy Wind': {category: 'Special'},
  'Iron Tail': {category: 'Physical'},
  'Leaf Blade': {bp: 90, category: 'Physical'},
  'Mach Punch': {isPunch: true, category: 'Physical'},
  'Magical Leaf': {category: 'Special'},
  Megahorn: {category: 'Physical'},
  'Mega Kick': {category: 'Physical'},
  'Mega Punch': {isPunch: true, category: 'Physical'},
  'Metal Claw': {category: 'Physical'},
  'Mud Shot': {category: 'Special'},
  'Mud-Slap': {category: 'Special'},
  'Night Shade': {category: 'Special'},
  Octazooka: {category: 'Special'},
  'Paleo Wave': {category: 'Special'},
  'Pay Day': {category: 'Physical'},
  Peck: {category: 'Physical'},
  'Poison Sting': {category: 'Physical'},
  'Poison Tail': {category: 'Physical'},
  Pound: {category: 'Physical'},
  'Powder Snow': {category: 'Special'},
  Present: {category: 'Physical'},
  Psybeam: {category: 'Special'},
  Psychic: {category: 'Special'},
  'Quick Attack': {category: 'Physical'},
  'Razor Leaf': {category: 'Physical'},
  'Rock Slide': {category: 'Physical'},
  'Rock Smash': {bp: 40, category: 'Physical'},
  'Rock Throw': {category: 'Physical'},
  Scratch: {category: 'Physical'},
  'Seismic Toss': {category: 'Physical'},
  'Shadow Ball': {category: 'Special'},
  'Shadow Punch': {isPunch: true, category: 'Physical'},
  'Shadow Strike': {category: 'Physical'},
  'Shock Wave': {category: 'Special'},
  'Sky Attack': {category: 'Physical'},
  Slam: {category: 'Physical'},
  Slash: {category: 'Physical'},
  Sludge: {category: 'Special'},
  'Sludge Bomb': {category: 'Special'},
  Spark: {category: 'Physical'},
  'Steel Wing': {category: 'Physical'},
  Strength: {category: 'Physical'},
  'Super Fang': {category: 'Physical'},
  Superpower: {category: 'Physical'},
  Swift: {category: 'Special'},
  'Thunder Punch': {isPunch: true, category: 'Physical'},
  'Thunder Shock': {category: 'Special'},
  'Tri Attack': {category: 'Special'},
  'Vise Grip': {category: 'Physical'},
  'Vital Throw': {category: 'Physical'},
  Waterfall: {category: 'Physical'},
  'Water Gun': {category: 'Special'},
  'Water Pulse': {category: 'Special'},
  'Water Spout': {category: 'Special'},
  'Wing Attack': {category: 'Physical'},
  'Zap Cannon': {bp: 120, category: 'Special'},
  Acupressure: {bp: 0, type: 'Normal'},
  'Aqua Ring': {bp: 0, type: 'Water'},
  Assurance: {
    bp: 50,
    type: 'Dark',
    makesContact: true,
    category: 'Physical',
  },
  Avalanche: {
    bp: 60,
    type: 'Ice',
    makesContact: true,
    category: 'Physical',
  },
  'Brave Bird': {
    bp: 120,
    type: 'Flying',
    recoil: [1, 3],
    makesContact: true,
    category: 'Physical',
  },
  'Bug Bite': {
    bp: 60,
    type: 'Bug',
    makesContact: true,
    category: 'Physical',
  },
  Chatter: {bp: 60, type: 'Flying', isSound: true, category: 'Special'},
  Copycat: {bp: 0, type: 'Normal'},
  'Crush Grip': {
    bp: 0,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
  },
  Defog: {bp: 0, type: 'Flying'},
  'Double Hit': {
    bp: 35,
    type: 'Normal',
    multihit: 2,
    makesContact: true,
    category: 'Physical',
  },
  'Drain Punch': {
    bp: 60,
    type: 'Fighting',
    drain: [1, 2],
    makesContact: true,
    isPunch: true,
    category: 'Physical',
  },
  Embargo: {bp: 0, type: 'Dark'},
  Feint: {
    bp: 50,
    type: 'Normal',
    priority: 2,
    breaksProtect: true,
    category: 'Physical',
  },
  'Fire Fang': {
    bp: 65,
    type: 'Fire',
    makesContact: true,
    isBite: true,
    category: 'Physical',
  },
  'Flare Blitz': {
    bp: 120,
    type: 'Fire',
    recoil: [1, 3],
    makesContact: true,
    category: 'Physical',
  },
  Fling: {bp: 0, type: 'Dark', category: 'Physical'},
  Gravity: {bp: 0, type: 'Psychic'},
  'Head Smash': {
    bp: 150,
    type: 'Rock',
    recoil: [1, 2],
    makesContact: true,
    category: 'Physical',
  },
  'Heal Block': {bp: 0, type: 'Psychic', target: 'allAdjacentFoes'},
  'Healing Wish': {bp: 0, type: 'Psychic'},
  'Heal Order': {bp: 0, type: 'Bug'},
  'Last Resort': {
    bp: 130,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
  },
  'Lucky Chant': {bp: 0, type: 'Normal'},
  'Lunar Dance': {bp: 0, type: 'Psychic'},
  'Magma Storm': {bp: 120, type: 'Fire', category: 'Special'},
  'Magnet Rise': {bp: 0, type: 'Electric'},
  'Me First': {bp: 0, type: 'Normal'},
  'Metal Burst': {bp: 0, type: 'Steel', category: 'Physical'},
  'Miracle Eye': {bp: 0, type: 'Psychic'},
  'Natural Gift': {bp: 0, type: 'Normal', category: 'Physical'},
  Payback: {
    bp: 50,
    type: 'Dark',
    makesContact: true,
    category: 'Physical',
  },
  Pluck: {
    bp: 60,
    type: 'Flying',
    makesContact: true,
    category: 'Physical',
  },
  'Power Trick': {bp: 0, type: 'Psychic'},
  Roost: {bp: 0, type: 'Flying'},
  'Stealth Rock': {bp: 0, type: 'Rock'},
  'Sucker Punch': {
    bp: 80,
    type: 'Dark',
    priority: 1,
    makesContact: true,
    category: 'Physical',
  },
  Switcheroo: {bp: 0, type: 'Dark'},
  Tailwind: {bp: 0, type: 'Flying'},
  'Toxic Spikes': {bp: 0, type: 'Poison'},
  'Trick Room': {bp: 0, type: 'Psychic'},
  'U-turn': {
    bp: 70,
    type: 'Bug',
    makesContact: true,
    category: 'Physical',
  },
  'Wake-Up Slap': {
    bp: 60,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
  },
  'Wood Hammer': {
    bp: 120,
    type: 'Grass',
    recoil: [1, 3],
    makesContact: true,
    category: 'Physical',
  },
  'Worry Seed': {bp: 0, type: 'Grass'},
  'Wring Out': {
    bp: 0,
    type: 'Normal',
    makesContact: true,
    category: 'Special',
  },
  'Air Slash': {bp: 75, type: 'Flying', category: 'Special'},
  'Aura Sphere': {bp: 90, type: 'Fighting', category: 'Special'},
  'Bug Buzz': {bp: 90, type: 'Bug', isSound: true, category: 'Special'},
  'Draco Meteor': {bp: 140, type: 'Dragon', self: {boosts: {spa: -2}}, category: 'Special'},
  'Dragon Pulse': {bp: 90, type: 'Dragon', category: 'Special'},
  'Dragon Rush': {
    bp: 100,
    type: 'Dragon',
    makesContact: true,
    category: 'Physical',
  },
  'Energy Ball': {bp: 80, type: 'Grass', category: 'Special'},
  'Gunk Shot': {bp: 120, type: 'Poison', category: 'Physical'},
  'Gyro Ball': {
    bp: 0,
    type: 'Steel',
    makesContact: true,
    category: 'Physical',
  },
  'Leaf Storm': {bp: 140, type: 'Grass', self: {boosts: {spa: -2}}, category: 'Special'},
  'Power Gem': {bp: 70, type: 'Rock', category: 'Special'},
  'Psycho Shift': {bp: 0, type: 'Psychic'},
  'Shadow Force': {
    bp: 120,
    type: 'Ghost',
    breaksProtect: true,
    makesContact: true,
    category: 'Physical',
  },
  'Dark Void': {bp: 0, type: 'Dark', target: 'allAdjacentFoes'},
  'Gastro Acid': {bp: 0, type: 'Poison'},
  Captivate: {bp: 0, type: 'Normal', target: 'allAdjacentFoes'},
  'Grass Knot': {
    bp: 0,
    type: 'Grass',
    makesContact: true,
    category: 'Special',
  },
  'Heart Swap': {bp: 0, type: 'Psychic'},
  Judgment: {bp: 100, type: 'Normal', category: 'Special'},
  'Magnet Bomb': {bp: 60, type: 'Steel', category: 'Physical'},
  'Mirror Shot': {bp: 65, type: 'Steel', category: 'Special'},
  'Mud Bomb': {bp: 65, type: 'Ground', category: 'Special'},
  'Ominous Wind': {bp: 60, type: 'Ghost', category: 'Special'},
  Punishment: {
    bp: 0,
    type: 'Dark',
    makesContact: true,
    category: 'Physical',
  },
  'Roar of Time': {bp: 150, type: 'Dragon', category: 'Special'},
  'Rock Climb': {
    bp: 90,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
  },
  'Seed Flare': {bp: 120, type: 'Grass', category: 'Special'},
  'Spacial Rend': {bp: 100, type: 'Dragon', category: 'Special'},
  'Trump Card': {
    bp: 0,
    type: 'Normal',
    makesContact: true,
    category: 'Special',
  },
  'Aqua Jet': {
    bp: 40,
    type: 'Water',
    priority: 1,
    makesContact: true,
    category: 'Physical',
  },
  'Aqua Tail': {
    bp: 90,
    type: 'Water',
    makesContact: true,
    category: 'Physical',
  },
  'Attack Order': {bp: 90, type: 'Bug', category: 'Physical'},
  Brine: {bp: 65, type: 'Water', category: 'Special'},
  'Bullet Punch': {
    bp: 40,
    type: 'Steel',
    priority: 1,
    makesContact: true,
    isPunch: true,
    category: 'Physical',
  },
  'Charge Beam': {bp: 50, type: 'Electric', category: 'Special'},
  'Close Combat': {
    bp: 120,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
  },
  'Cross Poison': {
    bp: 70,
    type: 'Poison',
    makesContact: true,
    category: 'Physical',
  },
  'Dark Pulse': {bp: 80, type: 'Dark', category: 'Special'},
  'Defend Order': {bp: 0, type: 'Bug'},
  Discharge: {
    bp: 80,
    type: 'Electric',
    target: 'allAdjacent',
    category: 'Special',
  },
  'Earth Power': {bp: 90, type: 'Ground', category: 'Special'},
  'Flash Cannon': {bp: 80, type: 'Steel', category: 'Special'},
  'Focus Blast': {bp: 120, type: 'Fighting', category: 'Special'},
  'Force Palm': {
    bp: 60,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
  },
  'Giga Impact': {
    bp: 150,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
  },
  'Guard Swap': {bp: 0, type: 'Psychic'},
  'Hammer Arm': {
    bp: 100,
    type: 'Fighting',
    makesContact: true,
    isPunch: true,
    category: 'Physical',
  },
  'Ice Fang': {
    bp: 65,
    type: 'Ice',
    makesContact: true,
    isBite: true,
    category: 'Physical',
  },
  'Ice Shard': {bp: 40, type: 'Ice', priority: 1, category: 'Physical'},
  'Iron Head': {
    bp: 80,
    type: 'Steel',
    makesContact: true,
    category: 'Physical',
  },
  'Lava Plume': {
    bp: 80,
    type: 'Fire',
    target: 'allAdjacent',
    category: 'Special',
  },
  'Nasty Plot': {bp: 0, type: 'Dark'},
  'Night Slash': {
    bp: 70,
    type: 'Dark',
    makesContact: true,
    category: 'Physical',
  },
  'Poison Jab': {
    bp: 80,
    type: 'Poison',
    makesContact: true,
    category: 'Physical',
  },
  'Power Swap': {bp: 0, type: 'Psychic'},
  'Power Whip': {
    bp: 120,
    type: 'Grass',
    makesContact: true,
    category: 'Physical',
  },
  'Psycho Cut': {bp: 70, type: 'Psychic', category: 'Physical'},
  'Rock Polish': {bp: 0, type: 'Rock'},
  'Rock Wrecker': {bp: 150, type: 'Rock', category: 'Physical'},
  'Seed Bomb': {bp: 80, type: 'Grass', category: 'Physical'},
  'Shadow Claw': {
    bp: 70,
    type: 'Ghost',
    makesContact: true,
    category: 'Physical',
  },
  'Shadow Sneak': {
    bp: 40,
    type: 'Ghost',
    priority: 1,
    makesContact: true,
    category: 'Physical',
  },
  'Stone Edge': {bp: 100, type: 'Rock', category: 'Physical'},
  'Thunder Fang': {
    bp: 65,
    type: 'Electric',
    makesContact: true,
    isBite: true,
    category: 'Physical',
  },
  'Vacuum Wave': {
    bp: 40,
    type: 'Fighting',
    priority: 1,
    category: 'Special',
  },
  'X-Scissor': {
    bp: 80,
    type: 'Bug',
    makesContact: true,
    category: 'Physical',
  },
  'Zen Headbutt': {
    bp: 80,
    type: 'Psychic',
    makesContact: true,
    category: 'Physical',
  },
};

const DPP: {[name: string]: MoveData} = extend(true, {}, ADV, DPP_PATCH);

const BW_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  'Air Slash': {secondaries: true},
  Blizzard: {secondaries: true},
  'Body Slam': {secondaries: true},
  Bounce: {secondaries: true},
  Bubble: {secondaries: true},
  'Brave Bird': {recoil: [33, 100]},
  'Bug Buzz': {secondaries: true},
  Chatter: {secondaries: true},
  Covet: {bp: 60},
  'Dragon Rush': {secondaries: true},
  'Drain Punch': {bp: 75},
  'Energy Ball': {secondaries: true},
  Extrasensory: {secondaries: true},
  Feint: {bp: 30},
  Detect: {priority: 4},
  'Double-Edge': {recoil: [33, 100]},
  Protect: {priority: 4},
  'Fire Blast': {secondaries: true},
  'Fire Spin': {bp: 35},
  Flamethrower: {secondaries: true},
  'Fury Cutter': {bp: 20},
  'Future Sight': {bp: 100, type: 'Psychic'},
  'Giga Drain': {bp: 75},
  'Gunk Shot': {secondaries: true},
  'Heat Wave': {secondaries: true},
  'Ice Beam': {secondaries: true},
  Lick: {secondaries: true},
  'Meteor Mash': {secondaries: true},
  'Muddy Water': {secondaries: true},
  Overheat: {},
  'Poison Fang': {secondaries: true},
  'Poison Gas': {target: 'allAdjacentFoes'},
  'Rock Tomb': {secondaries: true},
  'Sand Tomb': {bp: 35},
  'Secret Power': {secondaries: true},
  Smog: {secondaries: true},
  Snore: {secondaries: true},
  Stomp: {secondaries: true},
  Thunder: {secondaries: true},
  Thunderbolt: {secondaries: true},
  Uproar: {bp: 90},
  Whirlpool: {bp: 35},
  'Petal Dance': {bp: 120},
  Tackle: {bp: 50},
  Thrash: {bp: 120},
  'Bone Club': {secondaries: true},
  Constrict: {secondaries: true},
  'Dizzy Punch': {secondaries: true},
  'Hyper Fang': {secondaries: true},
  'Jump Kick': {bp: 100},
  'Luster Purge': {secondaries: true},
  'Mirror Shot': {secondaries: true},
  'Mist Ball': {secondaries: true},
  'Mud Bomb': {secondaries: true},
  'Needle Arm': {secondaries: true},
  'Ominous Wind': {secondaries: true},
  'Rock Climb': {secondaries: true},
  'Rolling Kick': {secondaries: true},
  'Sacred Fire': {secondaries: true},
  'Seed Flare': {secondaries: true},
  'Signal Beam': {secondaries: true},
  'Silver Wind': {secondaries: true},
  Twineedle: {secondaries: true},
  Acid: {secondaries: true},
  'Ancient Power': {secondaries: true},
  Astonish: {secondaries: true},
  'Aurora Beam': {secondaries: true},
  'Beat Up': {bp: 0},
  Bite: {secondaries: true},
  'Blaze Kick': {secondaries: true},
  'Bubble Beam': {secondaries: true},
  'Bullet Seed': {bp: 25},
  'Charge Beam': {secondaries: true},
  Confusion: {secondaries: true},
  'Cross Poison': {secondaries: true},
  Crunch: {secondaries: true},
  'Crush Claw': {secondaries: true},
  Curse: {type: 'Ghost'},
  'Dark Pulse': {secondaries: true},
  Discharge: {secondaries: true},
  'Doom Desire': {bp: 140},
  'Dragon Breath': {secondaries: true},
  'Dynamic Punch': {secondaries: true},
  'Earth Power': {secondaries: true},
  'Extreme Speed': {priority: 2},
  Ember: {secondaries: true},
  'Fake Out': {secondaries: true, priority: 3},
  'Fire Fang': {secondaries: true},
  'Fire Punch': {secondaries: true},
  'Flame Wheel': {secondaries: true},
  'Flare Blitz': {secondaries: true, recoil: [33, 100]},
  'Flash Cannon': {secondaries: true},
  'Focus Blast': {secondaries: true},
  'Force Palm': {secondaries: true},
  Headbutt: {secondaries: true},
  'High Jump Kick': {bp: 130},
  'Ice Fang': {secondaries: true},
  'Ice Punch': {secondaries: true},
  'Icicle Spear': {bp: 25},
  'Icy Wind': {secondaries: true},
  'Iron Head': {secondaries: true},
  'Iron Tail': {secondaries: true},
  'Last Resort': {bp: 140},
  'Lava Plume': {secondaries: true},
  'Metal Claw': {secondaries: true},
  'Mud Shot': {secondaries: true},
  'Mud-Slap': {secondaries: true},
  Octazooka: {secondaries: true},
  'Paleo Wave': {secondaries: true},
  'Poison Jab': {secondaries: true},
  'Poison Sting': {secondaries: true},
  'Poison Tail': {secondaries: true},
  'Powder Snow': {secondaries: true},
  Psybeam: {secondaries: true},
  Psychic: {secondaries: true},
  'Rock Slide': {secondaries: true},
  'Rock Smash': {secondaries: true},
  'Shadow Ball': {secondaries: true},
  'Shadow Strike': {secondaries: true},
  'Sky Attack': {secondaries: true},
  Sludge: {secondaries: true},
  'Sludge Bomb': {secondaries: true},
  Spark: {secondaries: true},
  'Steel Wing': {secondaries: true},
  'Thunder Fang': {secondaries: true},
  'Thunder Punch': {secondaries: true},
  'Thunder Shock': {secondaries: true},
  'Tri Attack': {secondaries: true},
  Twister: {secondaries: true},
  'Volt Tackle': {secondaries: true, recoil: [33, 100]},
  'Wood Hammer': {recoil: [33, 100]},
  Waterfall: {secondaries: true},
  'Water Pulse': {secondaries: true},
  'Zap Cannon': {secondaries: true},
  'Zen Headbutt': {secondaries: true},
  Autotomize: {bp: 0, type: 'Steel'},
  Bestow: {bp: 0, type: 'Normal'},
  'Echoed Voice': {bp: 40, type: 'Normal', isSound: true, category: 'Special'},
  'Electro Ball': {bp: 0, type: 'Electric', category: 'Special'},
  Entrainment: {bp: 0, type: 'Normal'},
  'Final Gambit': {
    bp: 0,
    type: 'Fighting',
    makesContact: true,
    category: 'Special',
  },
  'Fire Pledge': {bp: 50, type: 'Fire', category: 'Special'},
  'Frost Breath': {bp: 40, type: 'Ice', willCrit: true, category: 'Special'},
  'Grass Pledge': {bp: 50, type: 'Grass', category: 'Special'},
  'Heal Pulse': {bp: 0, type: 'Psychic'},
  'Heat Crash': {
    bp: 0,
    type: 'Fire',
    makesContact: true,
    category: 'Physical',
  },
  Hex: {bp: 50, type: 'Ghost', category: 'Special'},
  'Horn Leech': {
    bp: 75,
    type: 'Grass',
    drain: [1, 2],
    makesContact: true,
    category: 'Physical',
  },
  Hurricane: {
    bp: 120,
    type: 'Flying',
    category: 'Special',
    secondaries: true,
  },
  Incinerate: {bp: 30, type: 'Fire', target: 'allAdjacentFoes', category: 'Special'},
  'Low Sweep': {
    bp: 60,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  'Magic Room': {bp: 0, type: 'Psychic'},
  'Quick Guard': {bp: 0, type: 'Fighting', priority: 3},
  'Rage Powder': {bp: 0, type: 'Bug', priority: 3},
  'Relic Song': {
    bp: 75,
    type: 'Normal',
    isSound: true,
    target: 'allAdjacentFoes',
    category: 'Special',
    secondaries: true,
  },
  Round: {bp: 60, type: 'Normal', isSound: true, category: 'Special'},
  'Sacred Sword': {
    bp: 90,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
    ignoreDefensive: true,
  },
  Scald: {
    bp: 80,
    type: 'Water',
    category: 'Special',
    secondaries: true,
  },
  'Simple Beam': {bp: 0, type: 'Normal'},
  'Sky Drop': {
    bp: 60,
    type: 'Flying',
    makesContact: true,
    category: 'Physical',
  },
  Snarl: {
    bp: 55,
    type: 'Dark',
    isSound: true,
    target: 'allAdjacentFoes',
    category: 'Special',
    secondaries: true,
  },
  Soak: {bp: 0, type: 'Water'},
  Steamroller: {
    bp: 65,
    type: 'Bug',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  'Storm Throw': {
    bp: 40,
    type: 'Fighting',
    willCrit: true,
    makesContact: true,
    category: 'Physical',
  },
  'Struggle Bug': {
    bp: 30,
    type: 'Bug',
    target: 'allAdjacentFoes',
    category: 'Special',
    secondaries: true,
  },
  Synchronoise: {
    bp: 70,
    type: 'Psychic',
    target: 'allAdjacent',
    category: 'Special',
  },
  'Techno Blast': {bp: 85, type: 'Normal', category: 'Special'},
  Telekinesis: {bp: 0, type: 'Psychic'},
  'Water Pledge': {bp: 50, type: 'Water', category: 'Special'},
  'Wide Guard': {bp: 0, type: 'Rock', priority: 3},
  'Wonder Room': {bp: 0, type: 'Psychic'},
  'Ally Switch': {bp: 0, type: 'Psychic', priority: 1},
  'Flame Burst': {bp: 70, type: 'Fire', category: 'Special'},
  'Heavy Slam': {
    bp: 0,
    type: 'Steel',
    makesContact: true,
    category: 'Physical',
  },
  'Reflect Type': {bp: 0, type: 'Normal'},
  'Volt Switch': {bp: 70, type: 'Electric', category: 'Special'},
  'Chip Away': {
    bp: 70,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
    ignoreDefensive: true,
  },
  'Fiery Dance': {
    bp: 80,
    type: 'Fire',
    category: 'Special',
    secondaries: true,
  },
  'Head Charge': {
    bp: 120,
    type: 'Normal',
    recoil: [1, 4],
    makesContact: true,
    category: 'Physical',
  },
  'Heart Stamp': {
    bp: 60,
    type: 'Psychic',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  Quash: {bp: 0, type: 'Dark'},
  'Searing Shot': {
    bp: 100,
    type: 'Fire',
    target: 'allAdjacent',
    category: 'Special',
    secondaries: true,
  },
  'Acid Spray': {
    bp: 40,
    type: 'Poison',
    category: 'Special',
    secondaries: true,
  },
  Acrobatics: {
    bp: 55,
    type: 'Flying',
    makesContact: true,
    category: 'Physical',
  },
  'After You': {bp: 0, type: 'Normal'},
  'Blue Flare': {
    bp: 130,
    type: 'Fire',
    category: 'Special',
    secondaries: true,
  },
  'Bolt Strike': {
    bp: 130,
    type: 'Electric',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  Bulldoze: {
    bp: 60,
    type: 'Ground',
    target: 'allAdjacent',
    category: 'Physical',
    secondaries: true,
  },
  'Circle Throw': {
    bp: 60,
    type: 'Fighting',
    makesContact: true,
    category: 'Physical',
  },
  'Clear Smog': {bp: 50, type: 'Poison', category: 'Special'},
  Coil: {bp: 0, type: 'Poison'},
  'Cotton Guard': {bp: 0, type: 'Grass'},
  'Dragon Tail': {
    bp: 60,
    type: 'Dragon',
    makesContact: true,
    category: 'Physical',
  },
  'Drill Run': {
    bp: 80,
    type: 'Ground',
    makesContact: true,
    category: 'Physical',
  },
  'Dual Chop': {
    bp: 40,
    type: 'Dragon',
    multihit: 2,
    makesContact: true,
    category: 'Physical',
  },
  Electroweb: {
    bp: 55,
    type: 'Electric',
    target: 'allAdjacentFoes',
    category: 'Special',
    secondaries: true,
  },
  'Flame Charge': {
    bp: 50,
    type: 'Fire',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  'Foul Play': {
    bp: 95,
    type: 'Dark',
    makesContact: true,
    category: 'Physical',
    overrideOffensivePokemon: 'target',
  },
  'Freeze Shock': {
    bp: 140,
    type: 'Ice',
    category: 'Physical',
    secondaries: true,
  },
  'Fusion Bolt': {bp: 100, type: 'Electric', category: 'Physical'},
  'Fusion Flare': {bp: 100, type: 'Fire', category: 'Special'},
  'Gear Grind': {
    bp: 50,
    type: 'Steel',
    multihit: 2,
    makesContact: true,
    category: 'Physical',
  },
  Glaciate: {
    bp: 65,
    type: 'Ice',
    target: 'allAdjacentFoes',
    category: 'Special',
    secondaries: true,
  },
  'Guard Split': {bp: 0, type: 'Psychic'},
  'Hone Claws': {bp: 0, type: 'Dark'},
  'Ice Burn': {
    bp: 140,
    type: 'Ice',
    category: 'Special',
    secondaries: true,
  },
  'Icicle Crash': {
    bp: 85,
    type: 'Ice',
    category: 'Physical',
    secondaries: true,
  },
  Inferno: {
    bp: 100,
    type: 'Fire',
    category: 'Special',
    secondaries: true,
  },
  'Leaf Tornado': {
    bp: 65,
    type: 'Grass',
    category: 'Special',
    secondaries: true,
  },
  'Night Daze': {
    bp: 85,
    type: 'Dark',
    category: 'Special',
    secondaries: true,
  },
  'Power Split': {bp: 0, type: 'Psychic'},
  Psyshock: {
    bp: 80,
    type: 'Psychic',
    category: 'Special',
    overrideDefensiveStat: 'def',
  },
  Psystrike: {
    bp: 100,
    type: 'Psychic',
    category: 'Special',
    overrideDefensiveStat: 'def',
  },
  'Quiver Dance': {bp: 0, type: 'Bug'},
  'Razor Shell': {
    bp: 75,
    type: 'Water',
    makesContact: true,
    category: 'Physical',
    secondaries: true,
  },
  Retaliate: {
    bp: 70,
    type: 'Normal',
    makesContact: true,
    category: 'Physical',
  },
  'Secret Sword': {
    bp: 85,
    type: 'Fighting',
    category: 'Special',
    overrideDefensiveStat: 'def',
  },
  'Shell Smash': {bp: 0, type: 'Normal'},
  'Shift Gear': {bp: 0, type: 'Steel'},
  'Sludge Wave': {
    bp: 95,
    type: 'Poison',
    target: 'allAdjacent',
    category: 'Special',
    secondaries: true,
  },
  'Smack Down': {bp: 50, type: 'Rock', category: 'Physical'},
  'Stored Power': {bp: 20, type: 'Psychic', category: 'Special'},
  'Tail Slap': {
    bp: 25,
    type: 'Normal',
    multihit: [2, 5],
    makesContact: true,
    category: 'Physical',
  },
  'V-create': {
    bp: 180,
    type: 'Fire',
    makesContact: true,
    category: 'Physical',
  },
  Venoshock: {bp: 65, type: 'Poison', category: 'Special'},
  'Wild Charge': {
    bp: 90,
    type: 'Electric',
    recoil: [1, 4],
    makesContact: true,
    category: 'Physical',
  },
  'Work Up': {bp: 0, type: 'Normal'},
};

const BW: {[name: string]: MoveData} = extend(true, {}, DPP, BW_PATCH);

delete BW['Faint Attack'];

const XY_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  'Ice Ball': {isBullet: true},
  // 'Knock Off': {bp: 65},
  Thief: {bp: 60},
  Barrage: {isBullet: true},
  Bubble: {bp: 40},
  Chatter: {bp: 65},
  'Egg Bomb': {isBullet: true},
  'Follow Me': {priority: 2},
  Hurricane: {bp: 110},
  'Hidden Power': {bp: 60},
  'Hidden Power Bug': {bp: 60},
  'Hidden Power Dark': {bp: 60},
  'Hidden Power Dragon': {bp: 60},
  'Hidden Power Electric': {bp: 60},
  'Hidden Power Fighting': {bp: 60},
  'Hidden Power Fire': {bp: 60},
  'Hidden Power Flying': {bp: 60},
  'Hidden Power Ghost': {bp: 60},
  'Hidden Power Grass': {bp: 60},
  'Hidden Power Ground': {bp: 60},
  'Hidden Power Ice': {bp: 60},
  'Hidden Power Poison': {bp: 60},
  'Hidden Power Psychic': {bp: 60},
  'Hidden Power Rock': {bp: 60},
  'Hidden Power Steel': {bp: 60},
  'Hidden Power Water': {bp: 60},
  'Magma Storm': {bp: 100},
  'Magnet Bomb': {isBullet: true},
  'Mist Ball': {isBullet: true},
  Moonlight: {type: 'Fairy'},
  'Mud Bomb': {isBullet: true},
  'Searing Shot': {isBullet: true},
  'Smelling Salts': {bp: 70},
  Synchronoise: {bp: 120},
  'Techno Blast': {bp: 120},
  Thunder: {bp: 110},
  'Wake-Up Slap': {bp: 70},
  'Acid Spray': {isBullet: true},
  'Air Cutter': {bp: 60},
  'Ancient Power': {},
  Assurance: {bp: 60},
  'Aura Sphere': {bp: 80, isBullet: true, isPulse: true},
  Blizzard: {bp: 110},
  'Bullet Seed': {isBullet: true},
  Charm: {type: 'Fairy'},
  'Cotton Spore': {target: 'allAdjacentFoes'},
  Crabhammer: {bp: 100},
  'Dark Pulse': {isPulse: true},
  'Draco Meteor': {bp: 130},
  'Dragon Pulse': {bp: 85, isPulse: true},
  'Electro Ball': {isBullet: true},
  'Energy Ball': {bp: 90, isBullet: true},
  'Final Gambit': {makesContact: false},
  'Fire Blast': {bp: 110},
  'Fire Pledge': {bp: 80},
  Flamethrower: {bp: 90},
  'Focus Blast': {isBullet: true},
  'Frost Breath': {bp: 60},
  'Fury Cutter': {bp: 40},
  'Future Sight': {bp: 120},
  'Grass Pledge': {bp: 80},
  'Gyro Ball': {isBullet: true},
  'Heal Pulse': {isPulse: true},
  'Heat Wave': {bp: 95},
  Hex: {bp: 65},
  'Hydro Pump': {bp: 110},
  'Ice Beam': {bp: 90},
  Incinerate: {bp: 60},
  'Leaf Storm': {bp: 130},
  Lick: {bp: 30},
  'Low Sweep': {bp: 65},
  'Meteor Mash': {bp: 90},
  'Muddy Water': {bp: 90},
  Octazooka: {isBullet: true},
  Overheat: {bp: 130},
  'Pin Missile': {bp: 25},
  'Power Gem': {bp: 80},
  'Rage Powder': {priority: 2},
  'Rock Tomb': {bp: 60},
  'Rock Wrecker': {isBullet: true},
  'Seed Bomb': {isBullet: true},
  'Shadow Ball': {isBullet: true},
  'Skull Bash': {bp: 130},
  'Sludge Bomb': {isBullet: true},
  Smog: {bp: 30},
  Snore: {bp: 50},
  'Storm Throw': {bp: 60},
  'Struggle Bug': {bp: 50},
  Surf: {bp: 90},
  'Sweet Kiss': {type: 'Fairy'},
  Thunderbolt: {bp: 90},
  'Vine Whip': {bp: 45},
  'Water Pledge': {bp: 80},
  'Water Pulse': {isPulse: true},
  'Weather Ball': {isBullet: true},
  'Zap Cannon': {isBullet: true},
};

const XY: {[name: string]: MoveData} = extend(true, {}, BW, XY_PATCH);

const SM_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  'Ally Switch': {priority: 2},
  'Leech Life': {bp: 80},
  'Rock Blast': {isBullet: true},
  'Sucker Punch': {bp: 70},
  Tackle: {bp: 40},
};

const SM: {[name: string]: MoveData} = extend(true, {}, XY, SM_PATCH);

const SS_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  Howl: {isSound: true},
  'Rapid Spin': {bp: 50, secondaries: true},
};

const SS: {[name: string]: MoveData} = extend(true, {}, SM, SS_PATCH);

const LGPE_MOVES = [
  'Baddy Bad',
  'Bouncy Bubble',
  'Buzzy Buzz',
  'Freezy Frost',
  'Glitzy Glow',
  'Sappy Seed',
  'Sizzly Slide',
  'Sparkly Swirl',
  'Zippy Zap',
  'Floaty Fall',
  'Pika Papow',
  'Splishy Splash',
  'Veevee Volley',
];

for (const m of LGPE_MOVES) {
  delete SS[m];
}

const SV_PATCH: {[name: string]: DeepPartial<MoveData>} = {
  'Aerial Ace': {isSlicing: true},
  'Air Cutter': {isSlicing: true, isWind: true},
  'Air Slash': {isSlicing: true},
  Blizzard: {isWind: true},
  'Cross Poison': {isSlicing: true},
  Cut: {isSlicing: true},
  'Fury Cutter': {isSlicing: true},
  Gust: {isWind: true},
  'Heat Wave': {isWind: true},
  Hurricane: {isWind: true},
  'Icy Wind': {isWind: true},
  'Leaf Blade': {isSlicing: true},
  'Night Slash': {isSlicing: true},
  'Psycho Cut': {isSlicing: true},
  'Razor Leaf': {isSlicing: true},
  'Razor Shell': {isSlicing: true},
  'Sacred Sword': {isSlicing: true},
  Sandstorm: {isWind: true},
  Slash: {isSlicing: true},
  Tailwind: {isWind: true},
  Twister: {isWind: true},
  Whirlwind: {isWind: true},
  'X-Scissor': {isSlicing: true},
};

const SV: {[name: string]: MoveData} = extend(true, {}, SS, SV_PATCH);

export const MOVES = [{}, RBY, GSC, ADV, DPP, BW, XY, SM, SS, SV];

export class Moves implements I.Moves {
  private readonly gen: I.GenerationNum;

  constructor(gen: I.GenerationNum) {
    this.gen = gen;
  }

  get(id: I.ID) {
    return MOVES_BY_ID[this.gen][id];
  }

  *[Symbol.iterator]() {
    for (const id in MOVES_BY_ID[this.gen]) {
      yield this.get(id as I.ID)!;
    }
  }
}

class Move implements I.Move {
  readonly kind: 'Move';
  readonly id: I.ID;
  readonly name: I.MoveName;
  readonly basePower!: number;
  readonly type!: I.TypeName;
  readonly category?: I.MoveCategory;
  readonly flags: I.MoveFlags;
  readonly secondaries?: boolean;
  readonly target?: I.MoveTarget;
  readonly recoil?: [number, number];
  readonly hasCrashDamage?: boolean;
  readonly mindBlownRecoil?: boolean;
  readonly struggleRecoil?: boolean;
  readonly willCrit?: boolean;
  readonly drain?: [number, number];
  readonly priority?: number;
  readonly self?: I.SelfOrSecondaryEffect | null;
  readonly ignoreDefensive?: boolean;
  readonly overrideOffensiveStat?: I.StatIDExceptHP;
  readonly overrideDefensiveStat?: I.StatIDExceptHP;
  readonly overrideOffensivePokemon?: 'target' | 'source';
  readonly overrideDefensivePokemon?: 'target' | 'source';
  readonly breaksProtect?: boolean;
  readonly isZ?: boolean;
  readonly zMove?: {
    basePower?: number;
  };
  readonly isMax?: boolean;
  readonly maxMove?: {
    basePower: number;
  };
  readonly zp?: number;
  readonly maxPower?: number;
  readonly multihit?: number | number[];

  private static readonly FLAGS = new Set([
    'bp',
    'makesContact',
    'isPunch',
    'isBite',
    'isBullet',
    'isSound',
    'isPulse',
    'zp',
    'maxPower',
    'isSlicing',
    'isWind',
  ]);

  constructor(name: string, data: MoveData, gen: number) {
    this.kind = 'Move';
    this.id = toID(name);
    this.name = name as I.MoveName;

    // TODO: remove this once MoveData is migrated to flags and Object.assign just handles this
    this.flags = {};
    if (data.makesContact) this.flags.contact = 1;
    if (data.isPunch) this.flags.punch = 1;
    if (data.isBite) this.flags.bite = 1;
    if (data.isBullet) this.flags.bullet = 1;
    if (data.isSound) this.flags.sound = 1;
    if (data.isPulse) this.flags.pulse = 1;
    if (data.isSlicing) this.flags.slicing = 1;
    if (data.isWind) this.flags.wind = 1;

    assignWithout(this, data, Move.FLAGS);

    this.basePower = data.bp;
    if (data.zp) this.zMove = {basePower: data.zp};
    if (data.maxPower) this.maxMove = {basePower: data.maxPower};

    if (!this.category && gen >= 4) this.category = 'Status';
    if (this.struggleRecoil) delete (this as any).recoil;
  }
}

const MOVES_BY_ID: Array<{[id: string]: Move}> = [];

let gen = 0;
for (const moves of MOVES) {
  const map: {[id: string]: Move} = {};
  for (const move in moves) {
    const data = moves[move];
    const m = new Move(move, data, gen);
    map[m.id] = m;
  }
  MOVES_BY_ID.push(map);
  gen++;
}
